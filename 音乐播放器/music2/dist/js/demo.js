var songList,$=window.Zepto,root=window.player,$scope=$(document.body),index=0,audio=new root.audioControl;function bindEvent(){$scope.on("play:change",function(o,t){audio.getAudio(songList[t].audio),"play"==audio.status&&(audio.play(),root.pro.start()),root.pro.renderAllTime(songList[t].duration),root.render(songList[t])}),$scope.on("click",".prev-btn",function(){var o=controlManger.prev();audio.getAudio(songList[o].audio),"play"==audio.status&&(audio.play(),root.pro.start()),root.render(songList[o])}),$scope.on("click",".next-btn",function(){var o=controlManger.next();audio.getAudio(songList[o].audio),"play"==audio.status&&(audio.play(),root.pro.start()),root.render(songList[o])}),$scope.on("click",".play-btn",function(){"play"==audio.status?(audio.pause(),root.pro.stop()):(audio.play(),root.pro.start()),$(this).toggleClass("pause")})}function getData(o){$.ajax({type:"GET",url:o,success:function(o){bindEvent(),root.render(o[0]),controlManger=new root.controlManger(o.length),songList=o,$scope.trigger("play:change",index)},error:function(){}})}getData("../mock/data.json");